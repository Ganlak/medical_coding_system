# ============================================================================
# MEDICAL CODING SYSTEM - ENVIRONMENT VARIABLES TEMPLATE
# ============================================================================
# Copy this file to .env and fill in your actual values
# Command: cp .env.example .env
# ============================================================================

# ----------------------------------------------------------------------------
# 1. AZURE OPENAI CONFIGURATION (REQUIRED)
# ----------------------------------------------------------------------------
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_CHAT_DEPLOYMENT=your-chat-deployment-name
AZURE_OPENAI_EMBED_DEPLOYMENT=text-embedding-ada-002
AZURE_OPENAI_API_VERSION=2024-12-01-preview
AZURE_OPENAI_MODEL=gpt-4.1

# LLM Parameters
AZURE_OPENAI_TEMPERATURE=0.1
AZURE_OPENAI_MAX_TOKENS=4096
AZURE_OPENAI_TOP_P=0.95

# ----------------------------------------------------------------------------
# 2. VECTOR DATABASE CONFIGURATION (ChromaDB)
# ----------------------------------------------------------------------------
CHROMA_PERSIST_DIRECTORY=./vector_db/.chroma_production
CHROMA_COLLECTION_PREFIX=medical_codes

# Collection Names (Year-wise)
CHROMA_COLLECTION_ICD10CM=icd10cm_2025
CHROMA_COLLECTION_ICD10PCS=icd10pcs_2025
CHROMA_COLLECTION_CPT=cpt_2025
CHROMA_COLLECTION_DOCUMENTS=documents

# Retrieval Settings
CHROMA_TOP_K=10
CHROMA_SIMILARITY_THRESHOLD=0.7

# ----------------------------------------------------------------------------
# 3. CMS CODE MANAGEMENT (Year-wise)
# ----------------------------------------------------------------------------
CMS_CURRENT_YEAR=2025
CMS_PREVIOUS_YEARS=2024,2023,2022
CMS_AUTO_UPDATE=true
CMS_UPDATE_CHECK_INTERVAL=weekly

# CMS Data Paths
CMS_RAW_DATA_DIR=./data/raw
CMS_PROCESSED_DATA_DIR=./data/processed

# ----------------------------------------------------------------------------
# 4. EMBEDDING CONFIGURATION
# ----------------------------------------------------------------------------
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSION=1536
EMBEDDING_BATCH_SIZE=100
EMBEDDING_CACHE_ENABLED=true

# ----------------------------------------------------------------------------
# 5. RETRIEVAL & RAG CONFIGURATION
# ----------------------------------------------------------------------------
# Hybrid Search Weights
SEMANTIC_SEARCH_WEIGHT=0.7
KEYWORD_SEARCH_WEIGHT=0.3

# Re-ranking
RERANKING_ENABLED=true
RERANKING_MODEL=gpt-4.1
RERANKING_TOP_K=5

# Context Window
MAX_CONTEXT_LENGTH=8000
CONTEXT_OVERLAP=200

# ----------------------------------------------------------------------------
# 6. CODING ENGINE CONFIGURATION
# ----------------------------------------------------------------------------
# Confidence Scoring
MIN_CONFIDENCE_THRESHOLD=0.6
HIGH_CONFIDENCE_THRESHOLD=0.85

# Code Validation
STRICT_VALIDATION=true
ALLOW_DEPRECATED_CODES=false

# ----------------------------------------------------------------------------
# 7. DOCUMENT PROCESSING
# ----------------------------------------------------------------------------
# Upload Limits
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,csv,xlsx,txt

# PDF Processing
PDF_DPI=300
PDF_OCR_ENABLED=true
PDF_OCR_LANGUAGE=eng

# CSV Processing
CSV_ENCODING=utf-8
CSV_DELIMITER=,

# ----------------------------------------------------------------------------
# 8. LOGGING & MONITORING
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_FILE=./logs/audit.log

# Performance Monitoring
MONITORING_ENABLED=true
MONITORING_INTERVAL=60

# ----------------------------------------------------------------------------
# 9. CACHING
# ----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_DIR=./data/cache
CACHE_TTL=3600
CACHE_MAX_SIZE_MB=1000

# ----------------------------------------------------------------------------
# 10. API CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false
API_WORKERS=4
API_KEY_REQUIRED=false
API_KEY=your-secure-api-key-here
API_RATE_LIMIT=100

# ----------------------------------------------------------------------------
# 11. STREAMLIT UI CONFIGURATION
# ----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost
STREAMLIT_SERVER_HEADLESS=false
STREAMLIT_THEME=light

# ----------------------------------------------------------------------------
# 12. DATABASE CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
DATABASE_ENABLED=false
DATABASE_URL=postgresql://user:password@localhost:5432/medical_coding
DATABASE_POOL_SIZE=10

# ----------------------------------------------------------------------------
# 13. SECURITY & COMPLIANCE
# ----------------------------------------------------------------------------
HIPAA_MODE=true
PHI_ENCRYPTION=true
DATA_RETENTION_DAYS=2555
ANONYMIZE_PATIENT_DATA=true
REDACT_PHI=true

# ----------------------------------------------------------------------------
# 14. SYSTEM PATHS
# ----------------------------------------------------------------------------
PROJECT_ROOT=.
DATA_DIR=./data
UPLOADS_DIR=./data/uploads
OUTPUTS_DIR=./data/outputs
LOGS_DIR=./logs

# ----------------------------------------------------------------------------
# 15. AGENT CONFIGURATION
# ----------------------------------------------------------------------------
MAX_AGENT_ITERATIONS=5
AGENT_TIMEOUT=300
AGENT_VERBOSE=false
AGENT_RETRY_ATTEMPTS=3

# ----------------------------------------------------------------------------
# 16. EXPORT CONFIGURATION
# ----------------------------------------------------------------------------
EXPORT_FORMAT=xlsx
INCLUDE_CONFIDENCE_SCORES=true
INCLUDE_AUDIT_TRAIL=true
EXCEL_TEMPLATE_PATH=./templates/export_template.xlsx

# ----------------------------------------------------------------------------
# 17. DEVELOPMENT/PRODUCTION MODE
# ----------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_TELEMETRY=true

# ----------------------------------------------------------------------------
# 18. MULTI-TENANCY (Optional)
# ----------------------------------------------------------------------------
MULTI_TENANT_ENABLED=false
TENANT_ID=default